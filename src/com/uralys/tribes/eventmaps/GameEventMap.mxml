<?xml version="1.0" encoding="utf-8"?>
<EventMap xmlns:fx="http://ns.adobe.com/mxml/2009" 
		  xmlns:s="library://ns.adobe.com/flex/spark" 
		  xmlns:mx="library://ns.adobe.com/flex/mx"
		  xmlns="http://mate.asfusion.com/">
	
	<fx:Declarations>
	
		<Debugger level="{Debugger.ALL}" />
	
		<EventHandlers type="{GameEvent.GET_GAMES}" debug="true">
			<RemoteObjectInvoker
				showBusyCursor = "true"
				destination="GameWrapper" 
				endpoint="{Names.SERVER_AMF_ENDPOINT}"
				arguments="{[event.playerUID,
							 event.gameName]}"
				method = "createGame"
				debug = "true">
				<resultHandlers>
					<MethodInvoker
						generator 	= "{GameManager}"
						method 		= "gameCreated"
						arguments 	= "{resultObject}"
						/>
				</resultHandlers>
				
				<faultHandlers>
					<MethodInvoker generator="{FaultHandler}" method="handleRemoteServiceFault" arguments="{fault}"/>
				</faultHandlers>
			</RemoteObjectInvoker>
		</EventHandlers>
	</fx:Declarations>
	
	<fx:Script>
		<![CDATA[
			import com.uralys.tribes.constants.Names;
			import com.uralys.tribes.events.GameEvent;
			import com.uralys.tribes.managers.GameManager;
			import com.uralys.utils.FaultHandler;
		]]>
	</fx:Script>

</EventMap>